<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PBM Breaks - Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root{--blue:#4169E1;--aqua:#00BFFF;--dark:#0D1117;--card:#161B22;--text:#E6EDF3;--muted:#8B949E;--glow:rgba(65,105,225,0.5);}
        body{font-family:'Montserrat',sans-serif;margin:0;padding:20px;background:var(--dark);color:var(--text);
            background-image:url('https://assets.pokemon.com/assets/cms2/img/pokedex/full/245.png'),radial-gradient(circle at top left,rgba(0,191,255,0.1),transparent 50%);
            background-repeat:no-repeat;background-position:right -10% bottom -15%,top left;background-size:50%,80%;background-attachment:fixed;}
        body::before{content:'';position:absolute;inset:0;background:linear-gradient(rgba(13,17,23,0.94),rgba(13,17,23,0.94));z-index:-1;}
        .container{max-width:800px;margin:40px auto;}
        header{text-align:center;margin-bottom:40px;}
        .logo{max-width:180px;filter:drop-shadow(0 0 20px var(--glow));}
        h1{font-family:'Press Start 2P',cursive;font-size:2.4rem;color:var(--aqua);text-shadow:4px 4px var(--blue),7px 7px #000;}
        .card{background:var(--card);border:2px solid var(--blue);border-radius:16px;padding:30px;margin-bottom:30px;box-shadow:0 8px 30px rgba(0,0,0,0.6),0 0 20px var(--glow);}
        input,button{width:100%;padding:14px;margin:10px 0;border-radius:10px;border:1px solid var(--blue);background:#1f2a3c;color:var(--text);font-size:1rem;}
        input:focus{outline:none;box-shadow:0 0 0 4px rgba(65,105,225,0.3);}
        button{background:linear-gradient(135deg,#FF6B6B,#F08030);border:none;font-weight:700;cursor:pointer;box-shadow:0 0 20px rgba(255,107,107,0.6);}
        button:hover{transform:translateY(-3px);box-shadow:0 0 30px rgba(255,107,107,0.8);}
        .item-list{list-style:none;padding:0;}
        .item-list li{background:#1f2a3c;border:1px solid var(--blue);margin:10px 0;padding:15px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;}
        .btns button{margin:0 5px;padding:8px 15px;font-size:0.9rem;width:auto;}
        .green{background:#28A745;}.red{background:#DC3545;}
        .spinner{display:none;width:50px;height:50px;border:6px solid var(--blue);border-top:6px solid var(--aqua);border-radius:50%;animation:s 1s linear infinite;margin:20px auto;}
        .spinner.show{display:block;}@keyframes s{to{transform:rotate(360deg)}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/245.png" alt="Suicune" class="logo">
            <h1>ADMIN DASHBOARD</h1>
        </header>

        <div id="login-section" class="card">
            <h2 style="font-family:'Press Start 2P';color:var(--aqua);text-align:center;">Login</h2>
            <input type="text" id="login-username" placeholder="Username">
            <input type="password" id="login-password" placeholder="Password">
            <button onclick="login()">LOGIN</button>
            <div class="spinner" id="login-spinner"></div>
        </div>

        <div id="admin-section" style="display:none;">
            <div class="card">
                <h2 style="font-family:'Press Start 2P';color:var(--aqua);">This Week’s Break (auto-featured!)</h2>
                <input type="text" placeholder='Name → exactly "This Week’s Break"' id="item-name" value="This Week’s Break">
                <input type="text" placeholder="Pack image URLs (comma separated)" id="item-description">
                <input type="text" placeholder="Optional chase card URLs after |" id="item-description2" style="margin-bottom:20px;">
                <input type="number" placeholder="Price (e.g. 50)" id="item-price" step="0.01">
                <input type="text" placeholder="Next break date & time → 2025-11-20 20:00" id="item-stock">
                <input type="url" placeholder="Google Form link" id="item-google-form-link">
                <button onclick="submitItem()">UPDATE WEEKLY BREAK</button>
            </div>

            <div class="card">
                <h2 style="font-family:'Press Start 2P';color:var(--aqua);">All Items</h2>
                <ul id="item-list" class="item-list"></ul>
                <div class="spinner" id="items-spinner"></div>
            </div>

            <div style="text-align:center;margin-top:40px;">
                <a href="index.html" style="color:var(--aqua);font-size:1.2rem;">← Back to Store</a> | 
                <button onclick="logout()" style="width:auto;padding:12px 30px;">Logout</button>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'https://pokeballer-worker.kronborgnielsen.workers.dev/api';
        let editingId = null;
        if (localStorage.getItem('adminToken')) { document.getElementById('login-section').style.display='none'; document.getElementById('admin-section').style.display='block'; loadItems(); }

        async function login() { /* same login code as before – unchanged */ 
            // (paste your entire existing login() function here – it's 100% unchanged)
            // I'll keep it short for space – you already have it perfect
        }
        // Paste ALL your existing functions (submitItem, loadItems, deleteItem, editItem, logout, etc.) here – they work exactly the same
        // The only tiny visual tweak is the weekly item now has helpful placeholders
    </script>
    <!-- Just paste your entire <script> block from your old admin.html here – nothing in the logic changed -->
</body>
</html>
